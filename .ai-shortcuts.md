# Pontoon Project AI Shortcuts & Commands

> Custom shortcuts for efficient development, testing, and repo management in the pontoon project

## Usage Notes

- Use these shortcuts by typing them in our conversation (e.g., "cnp feat: add health check script")
- Commands with `<placeholders>` need additional input
- Shortcuts are case-insensitive


## ðŸš€ Git & Version Control

| Shortcut | Command | Description |
|----------|---------|-------------|
| `cnp` | `bash tools/cnp.sh [<type> "message"]` | Auto (no args) or explicit conventional commit after linters |
| `ca` | `git add . && git commit -m "<type>: <message>"` | Commit all changes (no push) |
| `st` | `git status` | Check git status |
| `br` | `git branch` | List branches |
| `co` | `git checkout <branch>` | Switch branch |
| `pull` | `git pull` | Pull latest changes |
| `log` | `git log --oneline -10` | Show recent commits |

### Conventional Commit Format

- `feat`: New feature
- `fix`: Bug fix
- `docs`: Documentation only changes
- `style`: Code style (formatting, missing semi colons, etc)
- `refactor`: Code refactoring
- `perf`: Performance improvement
- `test`: Adding or updating tests
- `chore`: Maintenance, build, CI, etc

Examples:
`bash tools/cnp.sh` (auto infer type/message)
`bash tools/cnp.sh feat "add health check script for phase 1"` (explicit)

## ðŸ“Š Repository Management

| Shortcut | Command | Description |
|----------|---------|-------------|
| `clean` | git clean -fdx | Remove untracked files and build artifacts |
| `deps-go` | cd services/game && go mod tidy | Update Go dependencies |
| `deps-ai` | cd services/ai && pip install -r requirements.txt | Update Python dependencies |
| `backup` | tar czf pontoon-backup-$(date +%Y%m%d).tar.gz . | Archive current state |

## ðŸ”§ Development & Testing

| Shortcut | Command | Description |
|----------|---------|-------------|
| `test-go` | bash tools/test-go.sh | Run Go tests from project root |
| `test-ai` | bash tools/test-ai.sh | Run Python tests from project root |
| `lint-go` | bash tools/lint-go.sh | go vet + gofmt check + golangci-lint |
| `lint-ai` | bash tools/lint-ai.sh | black/isort (check) + ruff + flake8 |
| `lint-yaml` | bash tools/lint-yaml.sh | yamllint across repo |
| `build` | bash tools/build.sh | Build all services from project root |
| `up` | bash tools/up.sh | Start all services from project root |
| `down` | bash tools/down.sh | Stop all services from project root |
| `check-health` | bash tools/check-health.sh | Check health endpoints |
| `drop-infra` | bash infra/drop-infra.sh | Stop and remove all containers, networks, volumes, and images defined in docker-compose.yml |
| `clean-docker` | bash tools/clean-docker.sh | Prune dangling images/build cache (add --all for aggressive) |
| `psql` | bash tools/psql.sh pontoon game | Open a psql session to container Postgres (pontoon/game) |
| `db-reset` | bash tools/db-reset.sh | Reset Postgres volume and restart stack |
| `configure-realm` | bash tools/configure-realm.sh | Import Keycloak realm from realm-d.json |

## ðŸ§¹ Quality & Linting Policy

We keep the repo tidy and fail early locally before CI:

| Area    | Tooling & Checks | Trigger |
|---------|------------------|---------|
| Go      | go vet, gofmt (must be clean), golangci-lint core linters | `lint-go` |
| Python  | black (check only), isort (check), ruff (quick AST lint), flake8 style/errors | `lint-ai` |
| YAML    | yamllint (line length 120, basic hygiene) | `lint-yaml` |
| General | Conventional commits for semantic history | `cnp` / `ca` |

Guidelines:
1. Format first: Go relies on `gofmt`; Python relies on `black` and import order via `isort`. Do not manually tweak formattingâ€”re-run formatters.
2. Keep commits focused and use conventional commit types. Group pure formatting changes under `style:`.
3. `cnp` (auto or explicit) runs all linters; if using `ca` manually, run `lint-*` first.
6. Auto mode heuristics: docs-only => docs; YAML/config => chore; new code or logic changes => feat; formatting-only Go changes => style; fallback => chore.
4. For Python dependency updates, keep runtime deps in `requirements.txt` and tooling deps in `dev-requirements.txt`.
5. Prefer fixing lint violations rather than disabling rules; escalate with a comment only if rule is demonstrably noisy.

Adding/changing rules:
- Go: edit `.golangci.yml` and run `golangci-lint run` locally.
- Python: adjust `[tool.black]`, `[tool.isort]`, `[tool.ruff]`, `[tool.flake8]` in `services/ai/pyproject.toml`.
- YAML: edit `.yamllint.yml`.

Shortcut recap:
```bash
lint-go     # Go vet + formatting + static analysis
lint-ai     # Python formatting & lint bundle
lint-yaml   # YAML hygiene
```

All lint scripts are safe to run from repo root.



